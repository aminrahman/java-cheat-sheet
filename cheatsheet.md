<div dir="rtl">

## اصول طراحی در مهندسی نرم افزار

- قانون Kiss (Keep It Simple, Stuid):
  - کدت رو ساده نگه‌دار و زیاد پیچیدش نکن.
  - کد باید تا حد امکان ساده نوشته بشه تا راحت فهمیده، تست، نگهداری و گسترش داده بشه.
  - توابع کوچک داشته باش. هر تابع باید فقط یک کار انجام بده.
  - از شرط‌های تودرتو پرهیز کن و شرط‌های ساده و واضح بنویس.
  - از متغیر اضافی پرهیز کن. متغیر اضافی پیچیدگی اضافی بهت تحمیل می‌کنه.
  - کد ساده‌تر تست پذیری راحت‌تری هم داره.
  - نام گذاری ها واضح باشن. اسم خوب خودش نصف توضیحاته.
  - در کل بدون هر کسی میتونه کد پیچیده‌ای بنویسه که کار میکنه مهم اینه کدی بنویسی که هم ساده باشه هم کار کنه.
  - قانون DRY (Don’t Repeat Yourself):
  - از تکرار کد خودداری کن.
    - تکرار = دردسر در نگهداری
    - در کل بهتره یک تابع یا کلاس مشترک بسازی
    - قانون YAGNI (You Are’nt Gonna Need It)":
    - چیزی رو که الان نیاز نداری اضافه نکن.
    - این که بگی شاید بعدا لازم شد = کد اضافی = پیچیدگی بیشتر
      - فقط چیزی رو بساز که واقعا لازم داری
  - قانون TDA (Tell, Don’t Ask):
  - به جای این که از شی چیزی بپرسی و بعد تصمیم بگیری، تصمیم رو به خودش بسپار و ازش کاری که میخوای انجام بده رو بخواه.
    - یه مثال:


<div dir="ltr">

```
if (car.getFuelLevel() > 0) {
	car.drive();
} //Wrong way

car.drive(); //Correct way
```

</div>

- قانون SOLID (Single responsibility, Opne/Closed, Liskov substitution, Interface Segregation, Dependency Injection):
  - S: Single Responsibility  هر کلاس باید فقط یک وظیفه داشته باشد. مثال احراز هویت و ریپازیتوری در یک کلاس
  - O: Open/Closed  کلاس‌ها باید برای توسعه باز و برای تغییر بسته باشند. مثال مستطیل و اضافه شدن دایره برای محاسبه مساحت.
  - L: Liskov Substitution اشیاء فرزند باید قابل جایگزینی با والد باشند. مثال پرنده و پنگوئن.
  - I: Interface Segregation نباید مجبور به پیاده‌سازی متدهایی شویم که نیاز نداریم. مثال کارگر که هم ربات پیاده ش کنه هم انسان (کار کردن و خوردن)
  - D: Dependency Inversion وابستگی‌ها باید به abstraction باشد، نه پیاده‌سازی. مثال وابستگی سوییچ به لامپ. باید به دیوایس وابسته باشه.
  - قانون GRASP (General Reponsibility Assignment Software Pattern):
    - این قوانین الگوهای کلی برای واگذاری مسئولیت‌ها در طراحی شی گرا هستند.
    - این اصول به ما کمک میکنند تصمیم بگیریم کدام کلاس/شی باید چه مسئولیتی داشته باشد.
    - درواقع SOLID میگه چطور طراحی کنیم و GRASP میگه چه کسی (شی/کلاس) چیکار کنه.
    - شامل موارد زیر هست:
      - Information Expert: کلاسی مسئولیت رو بگیره که بیشترین اطلاعات مرتبط رو داره. مثلا کلاس Invoice باید جمع قیمت آیتم هارو محاسبه کنه چون خودش به آیتم ها دسترسی داره.
      - Creator: کلاسی شیء جدید بسازی که با اون رابطه نزدیک داره. مثلا کلاس Order بیاد OrderItem بسازه چون هر Order شامل OrderItemها هست.
      - Controller: کلاس بین UI و جدول هست که ورودی‌ها رو کنترل میکنه. مثلا در MVC میتونیم OrderController داشته باشیم.
      - Low Coupling: وابستگی بین کلاس‌ها باید تا جای ممکن کم باشه. مثلا به جای این که کلاس A مستقیما کلاس B رو بسازی، از Factory یا Dependenci Injection استفاده کنه.
      - High Cohision: هر کلاسی باید یه کار مشخص تمیز داشته باشه. کلاسی که کارهای پراکنده میکنه قابل نگهداری نیست.
      - Polymorphism: به معنای داشتن رفتار متفاوت با استفاه از Interface هست. مثلا میتونیم از Animal به عنوان اینترفیس استفاده کنیم که تابع Speak داره و بعد سگ و گربه اون رو پیاده میکنند.
      - Pure Fabrication: یک کلاس مصنوعی بساز فقط برای رعایت بقیه اصول. مثلا repository برای جدا کردن دسترسی به دیتابیس در مدل اصلی.
      - Indirection: ایجاد یک واسطه برای کاهش وابستگی سیستم. مثلا استفاده از سرویس یا اینترفیس بین Controller و Data Access
      - Protected Variations: نقاطی که ممکنه تغییر کنند رو با abstraction بپوشون. مثلا استفاده از اینترفیس برای لایه دیتابیس چون ممکنه نوع دیتابیس عوض بشه.

</div>